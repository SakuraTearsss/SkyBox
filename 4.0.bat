::[Bat To Exe Converter]
::
::YAwzoRdxOk+EWAjk
::fBw5plQjdCuDJH2L40w8JxpQcAiNO2T0D7YTiA==
::YAwzuBVtJxjWCl3EqQJhSA==
::ZR4luwNxJguZRRmn22kVSA==
::Yhs/ulQjdF+5
::cxAkpRVqdFKZSDk=
::cBs/ulQjdF+5
::ZR41oxFsdFKZSDk=
::eBoioBt6dFKZSDk=
::cRo6pxp7LAbNWATEpCI=
::egkzugNsPRvcWATEpSI=
::dAsiuh18IRvcCxnZtBJQ
::cRYluBh/LU+EWAnk
::YxY4rhs+aU+IeA==
::cxY6rQJ7JhzQF1fEqQJkZksaHGQ=
::ZQ05rAF9IBncCkqN+0xwdVsAAlTMbAs=
::ZQ05rAF9IAHYFVzEqQITBzBxLA==
::eg0/rx1wNQPfEVWB+kM9LVsJDCetF07a
::fBEirQZwNQPfEVWB+kM9LVsJDGQ=
::cRolqwZ3JBvQF1fEqQK11vjRsNoH7IQ/0XCZDT+b
::dhA7uBVwLU+EWGqF/1ciKS9RTRaRXA==
::YQ03rBFzNR3SWATEx0M7PQlVeAGDLnja
::dhAmsQZ3MwfNWATEx0M7PQlVeAGDLnja
::ZQ0/vhVqMQ3MEVWAtB9wSA==
::Zg8zqx1/OA3MEVWAtB9wSA==
::dhA7pRFwIByZRRkDAJMDKRBBXgW2OWqoFTDACG0UHm19Rsj4uWrroQoLNTFZ5WX2PSU=
::Zh4grVQjdCqDJG2r224MCzR/aRLWcjuGgVfFbQ8gaQJ2JKTu0T7f/VgeX1FZpy7CpED8cPY=
::YB416Ek+ZG8=
::
::
::978f952a14a936cc963da21a135fa983
@echo off
setlocal enabledelayedexpansion

:: …Ë÷√µ±«∞»Ìº˛∞Ê±æ
set "current_version=4.0"
:: …Ë÷√‘∆∂À∞Ê±æŒƒº˛µƒURL
set "url=https://gitee.com/midstream-dream/coke/raw/master/banben"
:: …Ë÷√¡Ÿ ±Œƒº˛¬∑æ∂
set "temp_file=%TEMP%\version.txt"

:: œ¬‘ÿ‘∆∂Àµƒ∞Ê±æŒƒº˛
echo ’˝‘⁄¥”‘∆∂Àœ¬‘ÿ◊Ó–¬∞Ê±æ–≈œ¢...
echo µ⁄“ª¥ŒΩ¯––¥Àπ˝≥Ãø…ƒ‹Ωœ¬˝,«ÎƒÕ–ƒµ»¥˝...
certutil -urlcache -split -f "%url%" "%temp_file%"

:: ºÏ≤Èœ¬‘ÿ «∑Ò≥…π¶
if errorlevel 1 (
    echo œ¬‘ÿ∞Ê±æ–≈œ¢ ß∞‹,«ÎºÏ≤ÈÕ¯¬Á¡¨Ω”ªÚ…‘∫Û‘Ÿ ‘°£
    Echo ∞¥œ¬»Œ“‚º¸ÕÀ≥ˆΩ≈±æ...
    pause >nul
    exit /b
)

:: ¥”œ¬‘ÿµƒŒƒº˛÷–∂¡»°◊Ó–¬∞Ê±æ∫≈
for /f "delims=" %%i in ('type "%temp_file%"') do set "latest_version=%%i"

:: «Â¿Ì¡Ÿ ±Œƒº˛
del "%temp_file%"

:: ¥Ú”°µ±«∞∞Ê±æ∫Õ◊Ó–¬∞Ê±æ–≈œ¢
echo µ±«∞»Ìº˛∞Ê±æ: %current_version%
echo ‘∆∂À◊Ó–¬∞Ê±æ: %latest_version%

:: ±»Ωœ∞Ê±æ∫≈
if %current_version% LSS %latest_version% (
    echo ∑¢œ÷–¬∞Ê±æ£¨«Î∏¸–¬ƒ„µƒ»Ìº˛°£
    start https://co-ke.us.kg/%E5%88%B7%E6%9C%BA%E5%B7%A5%E5%85%B7
    pause
    exit /b
) else (
    echo ƒ„’˝‘⁄ π”√µƒ“— «◊Ó–¬∞Ê±æ°£
    ECHO.∞¥œ¬»Œ“‚º¸«∞Õ˘÷˜≤Àµ•...
    pause >nul
    goto example
)



:example
CLS
chcp 936>nul
cd /d %~dp0
if exist bin (cd bin) else (ECHO.’“≤ªµΩbin & goto Download)
::º”‘ÿ≈‰÷√,»Áπ˚”–◊‘∂®“Âµƒ≈‰÷√Œƒº˛“≤ø…“‘º”‘⁄œ¬√Ê
if exist conf\fixed.bat (call conf\fixed) else (ECHO.’“≤ªµΩconf\fixed.bat & goto FATAL)
if exist conf\user.bat call conf\user
if exist conf\write.bat (call conf\write) else (ECHO.’“≤ªµΩconf\write.bat & goto FATAL)
::…Ë÷√—’…´±‰¡ø

::∫Ï…´
set "RED=[1;31m"
::¬Ã…´
set "GREEN=[1;32m"
::ª∆…´
set "YELLOW=[1;33m"
::¿∂…´
set "BLUE=[1;34m"
::◊œ…´
set "PURPLE=[1;35m"
::«‡…´
set "CYAN=[1;36m"
::∞◊…´
set "WHITE=[1;37m"
::«Â≥˝—’…´±‰¡ø
set "NC=[0m"
::¥÷ÃÂ
set "BOLD=[1m"
::œ¬ªÆœﬂ
set "UNDERLINE=[4m"
::∑¥œ‘
set "REVERSE=[7m"
::∫⁄…´
set "BLACK=[1;30m"
::ª“…´
set "GRAY=[1;30m"
::¡¡∫Ï…´
set "LIGHTRED=[1;31m"
::¡¡¬Ã…´
set "LIGHTGREEN=[1;32m"
::¡¡ª∆…´
set "LIGHTYELLOW=[1;33m"

:MENU
CLS
mode con cols=71
ECHO.
ECHO.%BLUE%++++========================================================++++
ECHO ++++         ####   ####  ##  ## #####                      ++++
ECHO ++++        ##  ## ##  ## ## ##  ##                         ++++
ECHO ++++        ##     ##  ## ####   ####                       ++++
ECHO ++++        ##  ## ##  ## ## ##  ##                         ++++
ECHO ++++         ####   ####  ##  ## #####                      ++++
ECHO.%BLUE%++++========================================================++++
ECHO.
ECHO.
cd /d %~dp0bin\chkdev
call chk_connect.bat all



CLS
ECHO.
ECHO.%BLUE%++++========================================================++++
ECHO ++++         ####   ####  ##  ## #####                      ++++
ECHO ++++        ##  ## ##  ## ## ##  ##                         ++++
ECHO ++++        ##     ##  ## ####   ####                       ++++
ECHO ++++        ##  ## ##  ## ## ##  ##                         ++++
ECHO ++++         ####   ####  ##  ## #####                      ++++
ECHO.%BLUE%++++========================================================++++
ECHO.
ECHO.%RED%π§æﬂœ‰Ω´±£≥÷√‚∑—«“ø™‘¥!!
ECHO.
ECHO.%GREEN%ƒ„µƒ…Ë±∏µ±«∞’˝¥¶”⁄:%chk_connect_devstate%
cd /d %~dp0bin
ECHO.
ECHO.%PURPLE%1.“ªº¸∞Î◊‘∂ØROOT   2.øÏΩ›÷ÿ∆Ù        3.ºÏ≤‚…Ë±∏¡¥Ω”
ECHO.%CYAN%4.ADB√¸¡Ó––       5.À¢»Î»Œ“‚∑÷«¯     6. MTK«øΩ‚BL
ECHO.%YELLOW%7.MTKCLIENT       8.ADBº§ªÓ»Ìº˛     9.‘∆∂ÀBOOTø‚ 
ECHO.
ECHO.%LIGHTGREEN%A.‘ﬁ÷˙Œ“√«        B.æË‘˘        C.À¢–¬
echo.%WHITE%
call choice common [1][2][3][4][5][6][7][8][9][A][B][C]#[C]
if %choice%==1 goto root
if %choice%==2 goto REBOOT
if %choice%==3 goto check
if %choice%==4 goto ADB
if %choice%==5 goto flash
if %choice%==6 goto BL
if %choice%==7 CALL "%~dp0bin\mtk.exe"
if %choice%==8 goto ADB_activation
if %choice%==9 start https://co-ke.us.kg/
if %choice%==A start https://gitee.com/midstream-dream/coke/raw/master/mm_facetoface_collect_qrcode_1725726673771.png
if %choice%==B goto 
if %choice%==C CLS
goto MENU




:about
mode con cols=90
curl -k https://gitee.com/midstream-dream/coke/raw/master/writer
pause>nul
goto MENU


:check
CLS
call chk_connect.bat all
ECHO.%GREEN%ƒ„µƒ…Ë±∏µ±«∞’˝¥¶”⁄:%chk_connect_devstate%
Pause
goto MENU






:root
CLS
ECHO.=--------------------------------------------------------------------=
ECHO.—°‘Ò∞≤◊ø∞Ê±æ
ECHO.=--------------------------------------------------------------------=
ECHO.
ECHO.1.≥ˆ≥ß∞≤◊ø13
ECHO.2.≥ˆ≥ß∑«∞≤◊ø13(∫Û–¯…˝º∂µΩ13“≤—°’‚∏ˆ)
ECHO.A.∑µªÿ÷˜≤Àµ•
set /p choice=«Î ‰»Î–Ú∫≈:
if "%choice%"=="1" set "fall=BOOT" & goto ROOT1
if "%choice%"=="2" set "fall=init_boot" & goto ROOT1
if "%choice%"=="A" goto MENU
goto MENU
:ROOT1
CLS
ECHO.=--------------------------------------------------------------------=
ECHO.—°‘ÒROOT∑Ω∞∏
ECHO.=--------------------------------------------------------------------=
ECHO.
ECHO.1.Magisk
ECHO.2.APATCH
ECHO.A.∑µªÿ÷˜≤Àµ•
set /p choice=«Î ‰»Î–Ú∫≈:
if %choice%==1 goto Magisk
if %choice%==2 goto APATCH
if %choice%==A goto MENU
goto MENU



:magisk
CLS
set KEEPVERITY=false
set KEEPFORCEENCRYPT=false
cd /d %~dp0
set /p bootPath="«Î∞—“™À¢»ÎµƒŒƒº˛ÕœµΩ¥À¥¶ªÚ ‰»Î¬∑æ∂: "
set "Path=%~dp0bin;%Path%"
set /p aa= «∑Ò «64Œª…Ë±∏? (Y/N)
if /i "%aa%"=="Y" (
    set IS64BIT=true
    echo --  «64Œª
) else (
    set IS64BIT=false
    echo -- ≤ª «64Œª
)
echo.
busybox ash bin\boot_patch.sh %bootPath% %IS64BIT% %KEEPVERITY% %KEEPFORCEENCRYPT%
del stock_boot.img >nul 2>nul
del ramdisk.cpio >nul 2>nul
del dtb >nul 2>nul
del kernel >nul 2>nul
del kernel_dtb  >nul 2>nul
if exist %~dp0new-boot.img (
    move new-boot.img Magisk-boot.img
)
::ø™ ºÀ¢»Î
ECHO.
ECHO.«Îœ»Ω´…Ë±∏÷ÿ∆ÙµΩfastboot
cd /d "%~dp0bin\ADB"
ECHO.
ECHO.µØ≥ˆ¡Ω∏ˆOKAYº¥Œ™≥…π¶
fastboot flash "%fall%" "%~dp0Magisk-boot.img"
del "%~dp0Magisk-boot.img" 2>nul
ECHO. «∑ÒΩ´…Ë±∏÷ÿ∆Ù?
cd /d %~dp0bin\ADB
ECHO.1. «   2.∑Ò   A.∑µªÿ÷˜≤Àµ•
set /p choice=«Î ‰»Î–Ú∫≈:
if %choice%==1 fastboot reboot
if %chhoice%==2 goto MENU
if %choice%==A goto MENU
goto MENU




:APATCH
cd /d %~dp0bin\ApatchPatch
del "new-boot.img" >nul 2>&1
del "kernel" >nul 2>&1
del "kernel-b" >nul 2>&1
del "ramdisk.cpio" >nul 2>&1
SETLOCAL ENABLEDELAYEDEXPANSION
:: ∂®“Âπ§æﬂÀ˘‘⁄µƒ¬∑æ∂£¨»∑±£ «æ¯∂‘¬∑æ∂
set "TOOL_PATH=%~dp0bin\ApatchPatch\"
:: »∑±£TOOL_PATH±‰¡ø’˝»∑
if not exist "!TOOL_PATH!magiskboot.exe" (
    echo π§æﬂ¬∑æ∂≤ª’˝»∑£¨’“≤ªµΩmagiskboot.exe°£
    pause
    goto MENU
)
set /p bootPath="«Î∞—“™BOOTŒƒº˛ÕœµΩ¥À¥¶ªÚ ‰»Î¬∑æ∂(ƒø«∞APATCH÷ª÷ß≥÷boot≤ª÷ß≥÷init_boot): "
echo.«Î ‰»Îƒ„µƒ≥¨º∂√‹‘ø%RED%(“ª∂®“™º«◊°√‹‘ø!)£∫
ECHO.%WHITE%
set /p "superKey="
::  π”√æ¯∂‘¬∑æ∂µ˜”√π§æﬂ
set "magiskboot=%TOOL_PATH%magiskboot.exe"
set "kptools=%TOOL_PATH%kptools-x86_64-win.exe":: «–ªªµΩπ§æﬂƒø¬º
pushd "!TOOL_PATH!"
:: Ω‚∞¸boot.imgµΩmagiskbootÀ˘‘⁄ƒø¬º
echo ’˝‘⁄Ω‚∞¸boot.imgµΩ %TOOL_PATH%...
"!magiskboot!" unpack "!bootPath!"
if errorlevel 1 (
    echo Ω‚∞¸ ß∞‹£¨«ÎºÏ≤Èmagiskbootπ§æﬂ «∑Òø…”√°£
    popd
    pause
    exit /b
)
:: ºÏ≤È≤¢÷ÿ√¸√˚Ω‚∞¸∫ÛµƒkernelŒƒº˛
if exist "kernel" (
    echo ’˝‘⁄÷ÿ√¸√˚kernelŒƒº˛Œ™kernel-b...
    ren "kernel" "kernel-b"
    if errorlevel 1 (
        echo ÷ÿ√¸√˚ ß∞‹°£
        popd
        pause
        exit /b
    )
) else (
    echo Ω‚—π∫ÛµƒkernelŒƒº˛≤ª¥Ê‘⁄°£
    popd
    pause
    exit /b
)
:: –ﬁ≤πƒ⁄∫À
echo –ﬁ≤πƒ⁄∫À...
"!kptools!" -p --image "kernel-b" --skey="!superKey!" --kpimg "kpimg-android" --out "kernel"
if errorlevel 1 (
    echo –ﬁ≤πƒ⁄∫À ß∞‹£¨«ÎºÏ≤Èkptoolsπ§æﬂ «∑Òø…”√°£
    popd
    pause
    exit /b
)
:: ÷ÿ–¬¥Ú∞¸boot.img
echo ÷ÿ–¬¥Ú∞¸boot.img...
"!magiskboot!" repack "!bootPath!"
if errorlevel 1 (
    echo ÷ÿ–¬¥Ú∞¸ ß∞‹£¨«ÎºÏ≤Èmagiskbootπ§æﬂ «∑Òø…”√°£
    popd
    pause
    exit /b
)
:: «Â¿Ì¡Ÿ ±Œƒº˛
echo ’˝‘⁄«Â¿Ì¡Ÿ ±Œƒº˛...
del "kernel" 2>nul
del "kernel-b" 2>nul
del "ramdisk.cpio" 2>nul
echo «Â¿ÌÕÍ≥…°£
:: ÕÀ≥ˆπ§æﬂƒø¬º
popd
:: ÕÍ≥…–≈œ¢
ECHO.–ﬁ≤πÕÍ≥…∞¥œ¬»Œ“‚º¸À¢»Î...
pause >nul
goto flash_apatch
:flash_apatch
CLS
cd /d %~dp0bin\ApatchPatch
ECHO.«Îœ»Ω´…Ë±∏÷ÿ∆ÙµΩfastboot
fastboot flash boot new-boot.img
ECHO.
ECHO.≥ˆœ÷¡Ω∏ˆOKAYº¥Œ™≥…π¶







:CHKDEV
CLS
ECHO.=--------------------------------------------------------------------=
ECHO.ºÏ≤È…Ë±∏¡¨Ω”
ECHO.=--------------------------------------------------------------------=
ECHO.
ECHO.1.ºÏ≤È…Ë±∏¡¨Ω”(»´≤ø)
ECHO.2.ºÏ≤È…Ë±∏¡¨Ω”(œµÕ≥)
ECHO.3.ºÏ≤È…Ë±∏¡¨Ω”(Recovery)
ECHO.4.ºÏ≤È…Ë±∏¡¨Ω”(sideload)
ECHO.5.ºÏ≤È…Ë±∏¡¨Ω”(Fastboot)
ECHO.6.ºÏ≤È…Ë±∏¡¨Ω”(edl)
ECHO.7.ºÏ≤È…Ë±∏¡¨Ω”(diag901d)
ECHO.8.ºÏ≤È…Ë±∏¡¨Ω”(sprdboot)
ECHO.9.ºÏ≤È…Ë±∏¡¨Ω”(mtkbrom)
ECHO.10.ºÏ≤È…Ë±∏¡¨Ω”(mtkpreloader)
ECHO.11.ºÏ≤È…Ë±∏¡¨Ω”(»´≤ø) ∏¥≤È
ECHO.12.ºÏ≤È…Ë±∏¡¨Ω”(œµÕ≥) 2√Î∫Û∏¥≤È
ECHO.A.∑µªÿ≤Àµ•
call choice common [1][2][3][4][5][6][7][8][9][10][11][12]
if "%choice%"=="1" call chkdev all
if "%choice%"=="2" call chkdev system
if "%choice%"=="3" call chkdev recovery
if "%choice%"=="4" call chkdev sideload
if "%choice%"=="5" call chkdev fastboot
if "%choice%"=="6" call chkdev edl
if "%choice%"=="7" call chkdev diag901d
if "%choice%"=="8" call chkdev sprdboot
if "%choice%"=="9" call chkdev mtkbrom
if "%choice%"=="10" call chkdev mtkpreloader
if "%choice%"=="11" call chkdev all rechk 2
if "%choice%"=="12" call chkdev system rechk 2
if "%choice%"=="A" goto MENU
ECHO. & ECHOC {%c_s%}ÕÍ≥…. {%c_h%}∞¥»Œ“‚º¸∑µªÿ÷˜≤Àµ•...{%c_i%}{\n}& pause>nul & goto MENU






:REBOOT
CLS
ECHO.=--------------------------------------------------------------------=
ECHO.reboot.bat ÷ÿ∆Ù
ECHO.=--------------------------------------------------------------------=
ECHO.
ECHO.«Î—°‘Ò“™Ω¯»Îµƒƒ£ Ω:
ECHO.1.system
ECHO.2.recovery
ECHO.3.sideload
ECHO.4.fastboot
ECHO.5.fastbootd
set /p choice=«Î ‰»Î–Ú∫≈:
if "%choice%"=="1" set target=system
if "%choice%"=="2" set target=recovery
if "%choice%"=="3" set target=sideload
if "%choice%"=="4" set target=fastboot
if "%choice%"=="5" set target=fastbootd
if "%choice%"=="6" set target=edl
if "%choice%"=="7" set target=diag901d
call chkdev all rechk 1
cd /d %~dp0bin\chkdev
ECHO.Ω¯»Î%target%ƒ£ Ω... & call chk_reboot all

ECHO. & ECHOC {%c_s%}ÕÍ≥…. {%c_h%}∞¥»Œ“‚º¸∑µªÿ÷˜≤Àµ•...{%c_i%}{\n}& pause>nul & goto MENU




:ADB
CLS
CD /d %~dp0bin\ADB
CMD




:flash
CLS
ECHO.=--------------------------------------------------------------------=
ECHO.À¢»Î»Œ“‚∑÷«¯
ECHO.=--------------------------------------------------------------------=
cd /d "%~dp0bin\ADB"
set /p path="«Î ‰»Î“™À¢»Îµƒ∑÷«¯: "
set /p file="«Î ‰»ÎªÚÕœ»Î“™À¢»ÎµƒŒƒº˛”≥œÒ: "
echo À¢»Î¥ÌŒÛµƒ”≥œÒø…ƒ‹µº÷¬ƒ„µƒ…Ë±∏±‰◊©£¨«ÎΩ˜…˜≤Ÿ◊˜£°»Ù≤Ÿ◊˜ ß∞‹◊˜’ﬂ≤ª∏∫»Œ∫Œ‘»Œ!
echo «Îœ»Ω´…Ë±∏÷ÿ∆ÙµΩfastboot
Pause
fastboot flash %path% %file%
if errorlevel 1 (
    echo À¢»Î ß∞‹
) else (
    echo À¢»Î≥…π¶
)
Pause
goto MENU






:BL
CLS
ECHO.=----------------------------------------------------------=
ECHO.Ω‚À¯BootLoader
ECHO.=----------------------------------------------------------=
ECHO.
cd /d %~dp0bin
mtk da seccfg unlock
ECHO.»ÙΩ‚À¯ÕÍ≥…∫Û≥ˆœ÷ø™ª˙≥ˆœ÷–°◊÷Œﬁ∑®Ω¯»ÎœµÕ≥«Î∞¥◊°ø™ª˙º¸
ECHO.∞¥œ¬»Œ“‚º¸∑µªÿ÷˜≤Àµ•
pause >nul
goto MENU






:ADB_ACTIVE
CLS
cd /d "%~dp0bin\ADB"
ECHO.«Î—°‘Òƒ„“™º§ªÓµƒ»Ìº˛:
ECHO.1.shizuku   2.–°∫⁄Œ›
ECHO.3.∫⁄”Ú      4.ø’µ˜π∑(…˜÷ÿ!)
ECHO.5.±˘œ‰(Ice Box)  6.∑µªÿ÷˜≤Àµ•
set /p choice=«Î ‰»Î–Ú∫≈:
if "%choice%"=="1" adb shell sh /sdcard/Android/data/moe.shizuku.privileged.api/start.sh
if "%choice%"=="2" adb shell sh /storage/emulated/0/Android/data/web1n.stopapp/files/starter.sh
if "%choice%"=="3" adb -d shell sh /data/data/me.piebridge.brevent/brevent.sh
if "%choice%"=="4" adb shell dpm set-device-owner me.yourbay.airfrozen/.main.core.mgmt.MDeviceAdminReceiver
if "%choice%"=="5" adb shell sh /sdcard/Android/data/com.catchingnow.icebox/files/start.sh
if "%choice%"=="6" goto MENU
goto MENU




:Download
CLS
ECHO.≤›ƒ‚¬bƒ„√ªΩ‚—π
ECHO.≤›ƒ‚¬bƒ„√ªΩ‚—π
ECHO.≤›ƒ‚¬bƒ„√ªΩ‚—π
ECHO.≤›ƒ‚¬bƒ„√ªΩ‚—π
ECHO.…µ±∆,ƒ„≤ªª·Ω‚—πÀ¢ ≤√¥ª˙
pause

